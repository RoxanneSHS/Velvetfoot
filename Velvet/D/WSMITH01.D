ADD_TRANS_TRIGGER WSMITH01 13
~!PartyHasItem("CBBDSCLE")~

EXTEND_BOTTOM WSMITH01 13
  IF ~PartyHasItem("CBBDSCLE")~ THEN GOTO CB_59
END

APPEND WSMITH01
IF ~~ THEN BEGIN CB_59
  SAY @38
  IF ~~ THEN GOTO CB_60
END

IF ~~ THEN BEGIN CB_60
  SAY @99
  IF ~~ THEN REPLY @40 DO ~SetGlobal("ForgeItem","GLOBAL",10)~ GOTO CB_61
  IF ~~ THEN REPLY @41 GOTO 19
END

IF ~~ THEN BEGIN CB_61
  SAY @100
  IF ~PartyGoldGT(7999)~ THEN REPLY @89 DO ~TakePartyGold(8000)
DestroyGold(8000) TakePartyItem("CBBDSCLE") GiveItemCreate("CBBDARMR",Player1,0,0,0)~ GOTO 56
  IF ~PartyGoldLT(8000)~ THEN REPLY @90 DO ~SetGlobal("ForgeItem","GLOBAL",0)~ GOTO 19
  IF ~~ THEN REPLY @91 DO ~SetGlobal("ForgeItem","GLOBAL",0)~ GOTO 12
END

END

ADD_TRANS_TRIGGER WSMITH01 13
~!PartyHasItem("COMPON19")~

EXTEND_BOTTOM WSMITH01 13
  IF ~PartyHasItem("COMPON19")~ THEN GOTO CB_59a
END

APPEND WSMITH01
IF ~~ THEN BEGIN CB_59a
  SAY @38
  IF ~~ THEN GOTO CB_60a
END

IF ~~ THEN BEGIN CB_60a
  SAY @99
  IF ~~ THEN REPLY @40 DO ~SetGlobal("ForgeItem","GLOBAL",10)~ GOTO CB_61a
  IF ~~ THEN REPLY @41 GOTO 19
END

IF ~~ THEN BEGIN CB_61a
  SAY @100
  IF ~PartyGoldGT(7999)~ THEN REPLY @89 DO ~TakePartyGold(8000)
DestroyGold(8000) TakePartyItem("COMPON19") GiveItemCreate("CBBDARMR",Player1,0,0,0)~ GOTO 56
  IF ~PartyGoldLT(8000)~ THEN REPLY @90 DO ~SetGlobal("ForgeItem","GLOBAL",0)~ GOTO 19
  IF ~~ THEN REPLY @91 DO ~SetGlobal("ForgeItem","GLOBAL",0)~ GOTO 12
END

END